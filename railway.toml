[build]
builder = "NIXPACKS"
buildCommand = "npm install && npm run build"

[deploy]
startCommand = "npm start --workspace=backend"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Environment Variables
# These are default values. Override sensitive values in Railway dashboard.
# Go to your service â†’ Variables tab to set production values.
[variables]
NODE_ENV = "production"
PORT = "3000"

# Security - MUST be changed in Railway dashboard
JWT_SECRET = "change-this-in-railway-dashboard"
ADMIN_USERNAME = "admin"
ADMIN_PASSWORD = "change-this-in-railway-dashboard"

# Email Configuration - MUST be configured in Railway dashboard
EMAIL_HOST = "smtp.gmail.com"
EMAIL_PORT = "587"
EMAIL_USER = "your-email@gmail.com"
EMAIL_PASS = "change-this-in-railway-dashboard"
EMAIL_FROM = "your-email@gmail.com"

# Wise Payment Link - MUST be configured in Railway dashboard
WISE_PAYMENT_URL = "https://wise.com/pay/your-link"
